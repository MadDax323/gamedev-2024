<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f4f4f4;
      }
      .container {
        text-align: center;
      }
      .sudoku-grid {
        border-collapse: collapse;
        margin: 20px auto;
      }
      .sudoku-grid td {
        width: 40px;
        height: 40px;
        border: 1px solid #ccc;
        text-align: center;
        font-size: 24px;
      }
      .sudoku-grid td input {
        width: 100%;
        height: 100%;
        border: none;
        font-size: 24px;
        text-align: center;
        outline: none;
      }
      .sudoku-grid td input:focus {
        border: 1px solid #007bff;
      }
      .tracker {
        margin-top: 20px;
      }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sudoku Game</h1>
        <table id="sudoku-grid" class="sudoku-grid"></table>
        <button id="solve-button">Solve</button>
        <button id="clear-button">Clear</button>
        <button id="randomize-button">Generate</button>
        <div class="tracker" id="number-tracker"></div>
    </div>
    <script>
      let sudokuGrid = Array.from({ length: 9 }, () => Array(9).fill(0));

      // Function to generate a Sudoku puzzle
      function generateSudoku() {
          const grid = Array.from({ length: 9 }, () => Array(9).fill(0));
          fillSudoku(grid);
          removeNumbers(grid, 40);
          clearBoard();
          displaySudoku(grid);
      }

      function fillSudoku(grid) {
          for (let i = 0; i < 9; i++) {
              for (let j = 0; j < 9; j++) {
                  if (grid[i][j] === 0) {
                      const candidates = [];
                      for (let num = 1; num <= 9; num++) {
                          if (isValid(grid, i, j, num)) {
                              candidates.push(num);
                          }
                      }
                      if (candidates.length === 0) return false;
                      const num = candidates[Math.floor(Math.random() * candidates.length)];
                      grid[i][j] = num;
                      if (!fillSudoku(grid)) {
                          grid[i][j] = 0; // backtrack
                      }
                  }
              }
          }
          return true;
      }

      function isValid(grid, row, col, num) {
          for (let i = 0; i < 9; i++) {
              if (grid[row][i] === num || grid[i][col] === num) return false;
          }
          const boxRow = Math.floor(row / 3) * 3;
          const boxCol = Math.floor(col / 3) * 3;

          for (let i = 0; i < 3; i++) {
              for (let j = 0; j < 3; j++) {
                  if (grid[boxRow + i][boxCol + j] === num) return false;
              }
          }
          return true;
      }

      function removeNumbers(grid, count) {
          let removed = 0;
          while (removed < count) {
              const i = Math.floor(Math.random() * 9);
              const j = Math.floor(Math.random() * 9);
              if (grid[i][j] !== 0) {
                  const temp = grid[i][j];
                  grid[i][j] = 0;
                  removed++;
              }
          }
      }

      function displaySudoku(grid) {
          const table = document.getElementById("sudoku-grid");
          for (let row = 0; row < 9; row++) {
              const tr = document.createElement("tr");
              for (let col = 0; col < 9; col++) {
                  const td = document.createElement("td");
                  if (grid[row][col] !== 0) {
                      td.textContent = grid[row][col];
                  } else {
                      const input = document.createElement("input");
                      input.type = "number";
                      input.min = "1";
                      input.max = "9";
                      td.appendChild(input);
                  }
                  tr.appendChild(td);
              }
              table.appendChild(tr);
          }
      }

      function clearBoard() {
          const inputs = document.querySelectorAll('#sudoku-grid input');
          inputs.forEach(input => {
              input.value = '';
          });
          generateSudoku();
      }

      document.getElementById("solve-button").addEventListener("click", () => alert("Solve function is not implemented yet."));
      document.getElementById("clear-button").addEventListener("click", clearBoard);
      document.getElementById("randomize-button").addEventListener("click", generateSudoku);

      generateSudoku();
    </script>
</body>
</html>
