<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Puzzle</title>
</head>
<body>
    <h1>It's Soduku Time</h1>
    <div id="sudoku-container">
        <table id="sudoku-board"></table>
        <div class="controls">
            <button id="solve-button">Solve</button>
            <button id="clear-button">Clear</button>
            <button id="check-button">Check Solution</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    const sudokuBoard = document.getElementById('sudoku-board');
    const solveButton = document.getElementById('solve-button');
    const clearButton = document.getElementById('clear-button');
    const checkButton = document.getElementById('check-button');
 
    function createBoard() {
        for (let row = 0; row < 9; row++) {
            const tr = document.createElement('tr');
            for (let col = 0; col < 9; col++) {
                const td = document.createElement('td');
                const input = document.createElement('input');
                input.type = 'number';
                input.min = '1';
                input.max = '9';
                td.appendChild(input);
                tr.appendChild(td);
            }
            sudokuBoard.appendChild(tr);
        }
    }
 
    createBoard();
 
    function getBoard() {
        return Array.from(sudokuBoard.querySelectorAll('tr')).map(row => 
            Array.from(row.querySelectorAll('td input')).map(cell => 
                cell.value ? parseInt(cell.value) : 0
            )
        );
    }
 
    function setBoard(board) {
        const cells = sudokuBoard.querySelectorAll('td input');
        cells.forEach((cell, index) => {
            cell.value = board[Math.floor(index / 9)][index % 9] || '';
        });
    }
 
    function isValid(board, row, col, num) {
        for (let i = 0; i < 9; i++) {
            if (board[row][i] === num || board[i][col] === num) return false;
        }
 
        const boxRowStart = Math.floor(row / 3) * 3;
        const boxColStart = Math.floor(col / 3) * 3;
 
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if (board[boxRowStart + i][boxColStart + j] === num) return false;
            }
        }
        return true;
    }
 
    function solveSudoku(board) {
        for (let row = 0; row < 9; row++) {
            for (let col = 0; col < 9; col++) {
                if (board[row][col] === 0) {
                    for (let num = 1; num <= 9; num++) {
                        if (isValid(board, row, col, num)) {
                            board[row][col] = num;
                            if (solveSudoku(board)) return true;
                            board[row][col] = 0;
                        }
                    }
                    return false;
                }
            }
        }
        return true;
    }
 
    function isValidSudoku(board) {
        const rows = Array.from({ length: 9 }, () => new Set());
        const cols = Array.from({ length: 9 }, () => new Set());
        const boxes = Array.from({ length: 9 }, () => new Set());
 
        for (let r = 0; r < 9; r++) {
            for (let c = 0; c < 9; c++) {
                const num = board[r][c];
                if (num === 0) continue;
                if (rows[r].has(num) || cols[c].has(num) || boxes[Math.floor(r / 3) * 3 + Math.floor(c / 3)].has(num)) {
                    return false;
                }
                rows[r].add(num);
                cols[c].add(num);
                boxes[Math.floor(r / 3) * 3 + Math.floor(c / 3)].add(num);
            }
        }
        return true;
    }
 
    solveButton.addEventListener('click', function() {
        const board = getBoard();
        if (solveSudoku(board)) {
            setBoard(board);
            alert('Solution found! Check the board.');
        } else {
            alert('Sudoku cannot be solved.');
        }
    });
 
    checkButton.addEventListener('click', function() {
        const board = getBoard();
        if (isBoardFull(board)) {
            if (isValidSudoku(board)) {
                alert('Congratulations! You solved the Sudoku correctly!');
            } else {
                alert('The solution is incorrect. click clear and then solve to see the correct solution:');
                const solvedBoard = JSON.parse(JSON.stringify(board));
                if (solveSudoku(solvedBoard)) {
                    setBoard(solvedBoard);
                }
            }
        } else {
            alert('Please fill all the cells before checking the solution.');
        }
    });
 
    function isBoardFull(board) {
        return board.every(row => row.every(cell => cell !== 0));
    }
 
    clearButton.addEventListener('click', function() {
        document.querySelectorAll('input').forEach(input => input.value = '');
    });
    </script>
</body>
</html>
